<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Infoxicator | Ruben Casas</title><meta name="description" content="Personal blog and portfolio of Ruben Casas - Software Engineer, Micro Frontend enthusiast, and lifelong learner."/><meta name="keywords"/><meta name="twitter:title" content="Infoxicator | Ruben Casas"/><meta name="twitter:description" content="Personal blog and portfolio of Ruben Casas - Software Engineer, Micro Frontend enthusiast, and lifelong learner."/><meta name="twitter:creator" content="@tannerlinsley"/><meta name="twitter:site" content="@tannerlinsley"/><meta name="og:type" content="website"/><meta name="og:title" content="Infoxicator | Ruben Casas"/><meta name="og:description" content="Personal blog and portfolio of Ruben Casas - Software Engineer, Micro Frontend enthusiast, and lifelong learner."/><link rel="modulepreload" href="/assets/main-B2jn8-El.js"/><link rel="modulepreload" href="/assets/_postId-DKMZReAd.js"/><link rel="modulepreload" href="/assets/posts-BDliQh2j.js"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest" color="#fffff"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/assets/app-CSTvrx6g.css"/><script>
          (function() {
            const theme = localStorage.getItem('theme');
            if (theme) {
              document.documentElement.setAttribute('data-theme', theme);
            } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
              document.documentElement.setAttribute('data-theme', 'dark');
            }
          })();
        </script></head><body class="min-h-screen flex flex-col"><div class="w-full overflow-hidden transition-all duration-300 ease-in-out" style="max-height:0px"><div class="w-full border-b border-theme bg-secondary"><div class="max-w-3xl mx-auto px-6 py-3 flex items-center justify-end gap-3"><button class="flex flex-col items-center gap-1 group" aria-label="Light"><div class="relative w-10 h-10 rounded-full transition-transform group-hover:scale-110 ring-2 ring-offset-2 ring-[var(--accent)]" style="background-color:#ffffff;border-width:2px;border-style:solid;border-color:#0066cc"><svg class="w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" fill="none" stroke="#0066cc" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></div><span class="text-xs transition-colors text-accent">Light</span></button><button class="flex flex-col items-center gap-1 group" aria-label="Dark Side"><div class="relative w-10 h-10 rounded-full transition-transform group-hover:scale-110 " style="background-color:#040405;border-width:2px;border-style:solid;border-color:#FF2A2A"><svg class="w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" fill="none" stroke="#FF2A2A" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div><span class="text-xs transition-colors text-muted group-hover:text-primary">Dark Side</span></button><button class="flex flex-col items-center gap-1 group" aria-label="Terminal"><div class="relative w-10 h-10 rounded-full transition-transform group-hover:scale-110 " style="background-color:#020806;border-width:2px;border-style:solid;border-color:#00FF9C"><svg class="w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" fill="none" stroke="#00FF9C" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div><span class="text-xs transition-colors text-muted group-hover:text-primary">Terminal</span></button><button class="flex flex-col items-center gap-1 group" aria-label="Vibe Code"><div class="relative w-10 h-10 rounded-full transition-transform group-hover:scale-110 " style="background-color:#0C0616;border-width:2px;border-style:solid;border-color:#6E1AE9"><svg class="w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" fill="none" stroke="#6E1AE9" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div><span class="text-xs transition-colors text-muted group-hover:text-primary">Vibe Code</span></button></div></div></div><header class="w-full border-b border-theme"><div class="max-w-3xl mx-auto px-6 py-4 flex items-center justify-between"><a href="/" class="text-lg font-semibold text-primary hover:text-accent transition-colors">~/infoxicator</a><nav class="flex items-center gap-6"><a href="/" class="text-sm text-muted hover:text-primary transition-colors">home</a><a href="/blog" class="text-sm text-muted hover:text-primary transition-colors">blog</a><button class="flex items-center justify-center w-9 h-9 bg-secondary rounded hover:bg-tertiary transition-colors" aria-label="Select theme"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"></path></svg></button></nav></div></header><main class="flex-1 w-full max-w-3xl mx-auto px-6 py-8"><!--$--><div class="fixed top-0 left-0 right-0 z-50 h-1" style="background-color:var(--border)"><div class="h-full transition-[width] duration-75 ease-out" style="width:0%;background-color:var(--accent)"></div></div><article class="space-y-8"><a href="/" class="inline-flex items-center gap-2 text-sm text-muted hover:text-accent transition-colors"><span aria-hidden="true">‚Üê</span>Back to home</a><header class="space-y-4"><div class="flex items-center gap-3 text-sm text-muted"><time dateTime="2023-01-28">January 28, 2023</time><span>¬∑</span><span>6 min read</span></div><h1 class="text-3xl font-bold text-primary">Building a Loading Component Using ChatGPT</h1><div class="flex flex-wrap gap-2"><span class="text-xs px-2 py-1 bg-tertiary rounded text-muted">React</span><span class="text-xs px-2 py-1 bg-tertiary rounded text-muted">ChatGPT</span><span class="text-xs px-2 py-1 bg-tertiary rounded text-muted">AI</span></div></header><div class="prose"><div><p class="text-secondary my-4 leading-relaxed">Have you ever seen the red progress bar on Youtube or the blue progress bar on GitHub when navigating from one page to the next?</p><figure class="my-6"><img src="https://user-images.githubusercontent.com/17012976/215293411-0e52235e-77ce-4077-ba6b-c6297f27f381.gif" alt="youtube loading bar" class="rounded border border-theme max-w-full" loading="lazy"/><figcaption class="text-sm text-muted mt-2 text-center">youtube loading bar</figcaption></figure><figure class="my-6"><img src="https://user-images.githubusercontent.com/17012976/215293185-b5dc15c9-c20f-4b57-acb6-2723d720201b.gif" alt="github progress bar" class="rounded border border-theme max-w-full" loading="lazy"/><figcaption class="text-sm text-muted mt-2 text-center">github progress bar</figcaption></figure><p class="text-secondary my-4 leading-relaxed">I like that little component; it&#x27;s elegant and subtle and perfectly fits with Remix and React Router transitions.</p><p class="text-secondary my-4 leading-relaxed">So I decided to build my own</p><figure class="my-6"><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/90g1l5od3ieh73lylmeu.jpeg" alt="That was easy" class="rounded border border-theme max-w-full" loading="lazy"/><figcaption class="text-sm text-muted mt-2 text-center">That was easy</figcaption></figure><p class="text-secondary my-4 leading-relaxed">Here are the rules:</p><li class="text-secondary ml-4 my-1 list-disc">I am really lazy! Can ChatGPT write for me?</li><li class="text-secondary ml-4 my-1 list-disc">I want to use React, no vanilla JS</li><li class="text-secondary ml-4 my-1 list-disc">No external dependencies (duh)</li><li class="text-secondary ml-4 my-1 list-disc">It needs to support animations</li><p class="text-secondary my-4 leading-relaxed">Here we go! üí™</p><h2 class="text-xl font-semibold text-primary mt-8 mb-3">ChatGPT first attempt:</h2><h3 class="text-lg font-medium text-primary mt-6 mb-2">Prompt:</h3><p class="text-secondary my-4 leading-relaxed">&quot;Write a react component that creates a red bar 3px in height with a dynamic width that starts at 0% and start incrementing every 10ms and dissapears when it reaches 100% width with a fade out animation. Reply with code blocks&quot;</p><div class="my-4 rounded border border-theme overflow-hidden"><div class="flex items-center justify-between px-4 py-2 bg-tertiary border-b border-theme"><span class="text-xs text-muted font-medium uppercase">js</span></div><div class="p-4 overflow-x-auto text-sm [&amp;_pre]:!bg-transparent [&amp;_pre]:!m-0 [&amp;_pre]:!p-0"><pre><code>import React, { useState, useEffect } from &#039;react&#039;;
import &#039;./ProgressBar.css&#039;;

const ProgressBar = () =&gt; {
  const [width, setWidth] = useState(0);

  useEffect(() =&gt; {
    const intervalId = setInterval(() =&gt; {
      setWidth(prevWidth =&gt; (prevWidth &gt;= 100 ? 100 : prevWidth + 1));
    }, 10);

    return () =&gt; clearInterval(intervalId);
  }, []);

  return (
    &lt;div
      className={`progress-bar ${width === 100 ? &#039;fade-out&#039; : &#039;&#039;}`}
      style={{ width: `${width}%`, height: &#039;3px&#039; }}
    /&gt;
  );
};

export default ProgressBar;</code></pre></div></div><div class="my-4 rounded border border-theme overflow-hidden"><div class="flex items-center justify-between px-4 py-2 bg-tertiary border-b border-theme"><span class="text-xs text-muted font-medium uppercase">css</span></div><div class="p-4 overflow-x-auto text-sm [&amp;_pre]:!bg-transparent [&amp;_pre]:!m-0 [&amp;_pre]:!p-0"><pre><code>.progress-bar {
  background-color: red;
}

.fade-out {
  animation: fade-out 0.5s;
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}</code></pre></div></div><p class="text-secondary my-4 leading-relaxed">That was a good start!</p><figure class="my-6"><img src="https://user-images.githubusercontent.com/17012976/215224365-cf907d69-abf8-45e4-a944-c3df9a006e0b.gif" alt="loader" class="rounded border border-theme max-w-full" loading="lazy"/><figcaption class="text-sm text-muted mt-2 text-center">loader</figcaption></figure><p class="text-secondary my-4 leading-relaxed">###¬†Next Prompt:</p><p class="text-secondary my-4 leading-relaxed">&quot;Now, I want the progress bar to conditional render and mount an unmount when a condition is true or false, when it is unmounted it should fill the width to 100% and then fade out and disappear.&quot;</p><div class="my-4 rounded border border-theme overflow-hidden"><div class="flex items-center justify-between px-4 py-2 bg-tertiary border-b border-theme"><span class="text-xs text-muted font-medium uppercase">js</span></div><div class="p-4 overflow-x-auto text-sm [&amp;_pre]:!bg-transparent [&amp;_pre]:!m-0 [&amp;_pre]:!p-0"><pre><code>export const ProgressBar2 = ({ show }) =&gt; {
  const [width, setWidth] = useState(0);
  const [isAnimating, setIsAnimating] = useState(false);

  useEffect(() =&gt; {
    let intervalId;
    if (show &amp;&amp; !isAnimating) {
      setIsAnimating(true);
      intervalId = setInterval(() =&gt; {
        setWidth((prevWidth) =&gt; {
          if (prevWidth &gt;= 100) {
            return prevWidth;
          }
          return prevWidth + 1;
        });
      }, 10);
    }
    return () =&gt; clearInterval(intervalId);
  }, [show, isAnimating]);

  useEffect(() =&gt; {
    if (!show &amp;&amp; width === 100) {
      setTimeout(() =&gt; {
        setWidth(0);
        setIsAnimating(false);
      }, 500);
    }
  }, [show, width]);

  if (!show) {
    return null;
  }

  return (
    &lt;div
      className={`progress-bar ${width === 100 ? &#039;fade-out&#039; : &#039;&#039;}`}
      style={{
        width: `${width}%`,
        height: &#039;3px&#039;,
        position: &#039;fixed&#039;,
        top: 0,
        left: 0,
      }}
    /&gt;
  );
};</code></pre></div></div><p class="text-secondary my-4 leading-relaxed">Prompt:</p><p class="text-secondary my-4 leading-relaxed">&quot;What? That doesn&#x27;t work at all! the bar never appears!&quot;</p><p class="text-secondary my-4 leading-relaxed">ChatGPT:</p><p class="text-secondary my-4 leading-relaxed">I apologize for the confusion, it looks like my previous response did not include the necessary CSS for the animation.</p><p class="text-secondary my-4 leading-relaxed">...</p><h3 class="text-lg font-medium text-primary mt-6 mb-2">What CSS? That code doesn&#x27;t even make sense!</h3><p class="text-secondary my-4 leading-relaxed">...</p><p class="text-secondary my-4 leading-relaxed">Many prompts later... an increasing list of <code class="px-1.5 py-0.5 bg-tertiary rounded text-sm text-accent">useEffect</code> functions, and a  very apologetic ChatGPT, I decided to give up and build it myself.</p><p class="text-secondary my-4 leading-relaxed">Boy, that was a big mistake!</p><h2 class="text-xl font-semibold text-primary mt-8 mb-3">Random trickle:</h2><p class="text-secondary my-4 leading-relaxed">The width increments were gradual every 10ms, but I want to add some randomness to the bar progress to give the impression that some non-deterministic async operation is actually happening... (Seriously, the bar is an illusion! It doesn&#x27;t have anything to do with how long the operation takes üòÇ)</p><div class="my-4 rounded border border-theme overflow-hidden"><div class="flex items-center justify-between px-4 py-2 bg-tertiary border-b border-theme"><span class="text-xs text-muted font-medium uppercase">js</span></div><div class="p-4 overflow-x-auto text-sm [&amp;_pre]:!bg-transparent [&amp;_pre]:!m-0 [&amp;_pre]:!p-0"><pre><code>const Bar = (props: ProgressBarProps) =&gt; {
  const [width, setWidth] = useState(0);
  const progressSpeed = 10;

  useEffect(() =&gt; {
    const interval = setInterval(() =&gt; {
      setWidth((prevValue: number) =&gt; {
        const random = Math.random() / 100;
        if (prevValue + random &gt;= 0.95) {
          clearInterval(interval);
          return prevValue;
        }
        return prevValue + random;
      });
    }, progressSpeed);
    
    return () =&gt; clearInterval(interval);
  }, [progressSpeed]);
...</code></pre></div></div><p class="text-secondary my-4 leading-relaxed">That was easy wasn&#x27;t it?</p><p class="text-secondary my-4 leading-relaxed">##¬†React Animations</p><p class="text-secondary my-4 leading-relaxed">You know what&#x27;s not easy? Animations in React</p><figure class="my-6"><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cbj75pfk5a7qrdn5i3p9.jpeg" alt="Animations in React " class="rounded border border-theme max-w-full" loading="lazy"/><figcaption class="text-sm text-muted mt-2 text-center">Animations in React </figcaption></figure><p class="text-secondary my-4 leading-relaxed">It turns out that Animations in React are a pain!</p><p class="text-secondary my-4 leading-relaxed">When the component is unmounted, I want to fill the bar to 100% then show a fade animation. </p><p class="text-secondary my-4 leading-relaxed">In good old JQuery is a one-liner, as simple as:</p><div class="my-4 rounded border border-theme overflow-hidden"><div class="flex items-center justify-between px-4 py-2 bg-tertiary border-b border-theme"><span class="text-xs text-muted font-medium uppercase">js</span></div><div class="p-4 overflow-x-auto text-sm [&amp;_pre]:!bg-transparent [&amp;_pre]:!m-0 [&amp;_pre]:!p-0"><pre><code>$(&#039;#progress-bar&#039;).fadeOut(300, function(){ $(this).remove();});</code></pre></div></div><p class="text-secondary my-4 leading-relaxed">Oh, but not React; React wants you to suffer! (unless you use a library like <a href="https://github.com/reactjs/react-transition-group/tree/v1-stable" target="_blank" rel="noopener noreferrer" class="text-accent hover:underline">react-transition-group</a>, of course.</p><p class="text-secondary my-4 leading-relaxed"><strong class="font-semibold text-primary">But the rules are the rules, and I said no libraries...</strong> üòÖ</p><p class="text-secondary my-4 leading-relaxed">So after consulting with ChatGPT&#x27;s arch enemy and more reliable predecessor, StackOverflow. I found that you can wrap your component in a container and use a method called <a href="https://reactjs.org/docs/events.html#animation-events" target="_blank" rel="noopener noreferrer" class="text-accent hover:underline">onAnimationEnd</a> to detect when the animation finishes and then hide the element.</p><p class="text-secondary my-4 leading-relaxed">So here is the result:</p><div class="my-4 rounded border border-theme overflow-hidden"><div class="flex items-center justify-between px-4 py-2 bg-tertiary border-b border-theme"><span class="text-xs text-muted font-medium uppercase">js</span></div><div class="p-4 overflow-x-auto text-sm [&amp;_pre]:!bg-transparent [&amp;_pre]:!m-0 [&amp;_pre]:!p-0"><pre><code>import React, { useEffect, useState } from &#039;react&#039;;
import &#039;./progress-bar.css&#039;;

interface ProgressBarProps {
  show: boolean;
}

export const ProgressBar = (props: ProgressBarProps) =&gt; {
  const { show } = props;
  const [shouldRender, setRender] = useState(show);

  useEffect(() =&gt; {
    if (show) setRender(true);
  }, [show]);

  const onAnimationEnd = () =&gt; {
    if (!show) {
      setRender(false);
    }
  };

  return (
    shouldRender &amp;&amp; (
      &lt;div
        aria-label=&quot;progress-bar-container&quot;
        style={{
          animation: `${show ? &#039;&#039; : &#039;fadeOut 0.5s&#039;}`,
        }}
        onAnimationEnd={onAnimationEnd}
      &gt;
        &lt;Bar {...props} show={show} /&gt;
      &lt;/div&gt;
    )
  );
};

const Bar = (props: ProgressBarProps) =&gt; {
  const { show } = props;
  const [width, setWidth] = useState(0);
  const progressSpeed = 10;

  useEffect(() =&gt; {
    const interval = setInterval(() =&gt; {
      setWidth((prevValue: number) =&gt; {
        const random = Math.random() / 100;
        if (prevValue + random &gt;= 0.95) {
          clearInterval(interval);
          return prevValue;
        }
        return prevValue + random;
      });
    }, progressSpeed);

    return () =&gt; clearInterval(interval);
  }, [progressSpeed, show]);

  return (
    &lt;div
      aria-label=&quot;progress-bar&quot;
      style={{
        position: &#039;fixed&#039;,
        top: 0,
        left: 0,
        zIndex: 2147483647,
        backgroundColor: &#039;#FF0000&#039;,
        height: &#039;3px&#039;,
        width: `${10 + width * 90}%`,
        transition: `width ${progressSpeed}ms`,
        transform: &#039;translate3d(0, 0, 0)&#039;,
      }}
    /&gt;
  );
};</code></pre></div></div><p class="text-secondary my-4 leading-relaxed"><strong class="font-semibold text-primary">It works!</strong></p><figure class="my-6"><img src="https://user-images.githubusercontent.com/17012976/215228399-c6c85dbf-acf2-4c8b-9386-9d52a654ad65.gif" alt="loading bar" class="rounded border border-theme max-w-full" loading="lazy"/><figcaption class="text-sm text-muted mt-2 text-center">loading bar</figcaption></figure><p class="text-secondary my-4 leading-relaxed">Except it doesn&#x27;t! There is an annoying &quot;flashing glitch&quot; when the component unmounts that I couldn&#x27;t be bothered finding out why (I am lying; I spent way too long trying but then gave up)</p><h2 class="text-xl font-semibold text-primary mt-8 mb-3">Conclusion</h2><p class="text-secondary my-4 leading-relaxed">Use <a href="https://www.npmjs.com/package/nprogress" target="_blank" rel="noopener noreferrer" class="text-accent hover:underline">nProgress</a> üòÇ</p><p class="text-secondary my-4 leading-relaxed">That&#x27;s it!</p><h2 class="text-xl font-semibold text-primary mt-8 mb-3">Real Conclusion:</h2><p class="text-secondary my-4 leading-relaxed">This was a fun exercise to stretch the limits of ChatGPT and how far it can go in creating entire components and UI. It did very well with the basics, but when you start adding more complex interactions, it just goes round and round in circles spitting out incoherent and repetitive code. (not without apologising, of course üòÖ)</p><p class="text-secondary my-4 leading-relaxed">Worth noting that I couldn&#x27;t make the component work 100% either!, mainly due to lack of time (or lack of React expertise üòÇ).</p><p class="text-secondary my-4 leading-relaxed">If anyone wants to judge my midnight coding and fix the bug, and let me know why the glitch happens, here is the link to the code:</p><p class="text-secondary my-4 leading-relaxed">https://stackblitz.com/edit/github-9eintn-ru5xtl?file=src%2Fprogress-bar.tsx</p><p class="text-secondary my-4 leading-relaxed">##¬†My Conclusion:</p><p class="text-secondary my-4 leading-relaxed">I need to get better at React animations.</p></div></div><footer class="pt-8 border-t border-theme"><a href="/" class="inline-flex items-center gap-2 text-sm text-muted hover:text-accent transition-colors"><span aria-hidden="true">‚Üê</span>Back to all posts</a></footer></article><script></script><script>(function restoreScroll({
  storageKey: storageKey2,
  key,
  behavior,
  shouldScrollRestoration,
  scrollToTopSelectors,
  location
}) {
  let byKey;
  try {
    byKey = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
  } catch (error) {
    console.error(error);
    return;
  }
  const resolvedKey = key || window.history.state?.__TSR_key;
  const elementEntries = byKey[resolvedKey];
  ignoreScroll = true;
  scroll: {
    if (shouldScrollRestoration && elementEntries && Object.keys(elementEntries).length > 0) {
      for (const elementSelector in elementEntries) {
        const entry = elementEntries[elementSelector];
        if (elementSelector === "window") {
          window.scrollTo({
            top: entry.scrollY,
            left: entry.scrollX,
            behavior
          });
        } else if (elementSelector) {
          const element = document.querySelector(elementSelector);
          if (element) {
            element.scrollLeft = entry.scrollX;
            element.scrollTop = entry.scrollY;
          }
        }
      }
      break scroll;
    }
    const hash = (location ?? window.location).hash.split("#", 2)[1];
    if (hash) {
      const hashScrollIntoViewOptions = window.history.state?.__hashScrollIntoViewOptions ?? true;
      if (hashScrollIntoViewOptions) {
        const el = document.getElementById(hash);
        if (el) {
          el.scrollIntoView(hashScrollIntoViewOptions);
        }
      }
      break scroll;
    }
    const scrollOptions = { top: 0, left: 0, behavior };
    window.scrollTo(scrollOptions);
    if (scrollToTopSelectors) {
      for (const selector of scrollToTopSelectors) {
        if (selector === "window") continue;
        const element = typeof selector === "function" ? selector() : document.querySelector(selector);
        if (element) element.scrollTo(scrollOptions);
      }
    }
  }
  ignoreScroll = false;
})({"storageKey":"tsr-scroll-restoration-v1_3","shouldScrollRestoration":true});document.currentScript.remove()</script><!--/$--></main><footer class="w-full border-t border-theme"><div class="max-w-3xl mx-auto px-6 py-6 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-muted"><span>¬© <!-- -->2025<!-- --> Ruben Casas</span><div class="flex items-center gap-4"><a href="https://twitter.com/infoxicator" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors">twitter</a><a href="https://github.com/infoxicator" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors">github</a><a href="https://linkedin.com/in/ACoAABJb0mgBc6L_x1w-l_cGNMY4VpnDPZ2vEQQ" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors">linkedin</a></div></div></footer><script class="$tsr" id="$tsr-stream-barrier">(self.$R=self.$R||{})["tsr"]=[];self.$_TSR={h(){this.hydrated=!0,this.c()},e(){this.streamEnded=!0,this.c()},c(){this.hydrated&&this.streamEnded&&(delete self.$_TSR,delete self.$R.tsr)},p(e){this.initialized?e():this.buffer.push(e)},buffer:[]};
;$_TSR.router=($R=>$R[0]={manifest:$R[1]={routes:$R[2]={__root__:$R[3]={preloads:$R[4]=["/assets/main-B2jn8-El.js"],assets:$R[5]=[$R[6]={tag:"script",attrs:$R[7]={type:"module",async:!0},children:"import('/assets/main-B2jn8-El.js')"}]},"/$postId":$R[8]={preloads:$R[9]=["/assets/_postId-DKMZReAd.js","/assets/posts-BDliQh2j.js"]}}},matches:$R[10]=[$R[11]={i:"__root__/",u:1767031041320,s:"success",ssr:!0},$R[12]={i:"/$postId/building-a-loading-component-using-chatgpt",u:1767031041372,s:"success",ssr:!0}],lastMatchId:"/$postId/building-a-loading-component-using-chatgpt"})($R["tsr"]);$_TSR.e();document.currentScript.remove()</script><script type="module" async="">import('/assets/main-B2jn8-El.js')</script></body></html>