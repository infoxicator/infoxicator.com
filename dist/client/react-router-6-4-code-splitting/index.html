<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>React Router 6.4 Code-Splitting | Infoxicator</title><meta name="theme-color" content="#ffffff"/><meta name="description" content="React Router 6.4 introduced Data Routers with parallel data fetching capabilities, but bundling all loaders at the top level creates performance issues. Here&#x27;s how to solve it."/><meta name="twitter:title" content="React Router 6.4 Code-Splitting | Infoxicator"/><meta name="twitter:description" content="React Router 6.4 introduced Data Routers with parallel data fetching capabilities, but bundling all loaders at the top level creates performance issues. Here&#x27;s how to solve it."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@Infoxicador"/><meta name="twitter:site" content="@Infoxicador"/><meta property="og:type" content="article"/><meta property="og:title" content="React Router 6.4 Code-Splitting | Infoxicator"/><meta property="og:site_name" content="Infoxicator"/><meta property="og:description" content="React Router 6.4 introduced Data Routers with parallel data fetching capabilities, but bundling all loaders at the top level creates performance issues. Here&#x27;s how to solve it."/><meta property="og:url" content="https://infoxicator.com/react-router-6-4-code-splitting/"/><meta name="twitter:image" content="https://infoxicator.com/images/posts/react-router-6-4-code-splitting/xy2km3wsql2sq9jzdkgm.jpeg"/><meta name="twitter:image:alt" content="React Router 6.4 Code-Splitting"/><meta property="og:image" content="https://infoxicator.com/images/posts/react-router-6-4-code-splitting/xy2km3wsql2sq9jzdkgm.jpeg"/><meta property="og:image:alt" content="React Router 6.4 Code-Splitting"/><meta property="article:published_time" content="2022-10-06"/><meta property="article:tag" content="Code Splitting"/><link rel="modulepreload" href="/assets/main-BuLNq98C.js"/><link rel="modulepreload" href="/assets/_postId-CltVtPm6.js"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="icon" href="/favicon.ico"/><link rel="alternate" type="application/rss+xml" title="Infoxicator RSS Feed" href="/rss.xml"/><link rel="canonical" href="https://infoxicator.com/react-router-6-4-code-splitting/"/><link rel="stylesheet" href="/assets/app-ByiuSF9c.css"/><script>
          (function() {
            const theme = localStorage.getItem('theme');
            if (theme) {
              document.documentElement.setAttribute('data-theme', theme);
            } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
              document.documentElement.setAttribute('data-theme', 'dark');
            }
          })();
        </script></head><body class="min-h-screen flex flex-col"><div class="w-full overflow-hidden transition-all duration-300 ease-in-out" style="max-height:0px"><div class="w-full border-b border-theme bg-secondary"><div class="max-w-3xl mx-auto px-6 py-3 flex items-center justify-end gap-3"><button class="flex flex-col items-center gap-1 group" aria-label="Light"><div class="relative w-10 h-10 rounded-full transition-transform group-hover:scale-110 ring-2 ring-offset-2 ring-[var(--accent)]" style="background-color:#ffffff;border-width:2px;border-style:solid;border-color:#0066cc"><svg class="w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" fill="none" stroke="#0066cc" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></div><span class="text-xs transition-colors text-accent">Light</span></button><button class="flex flex-col items-center gap-1 group" aria-label="Dark Side"><div class="relative w-10 h-10 rounded-full transition-transform group-hover:scale-110 " style="background-color:#040405;border-width:2px;border-style:solid;border-color:#FF2A2A"><svg class="w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" fill="none" stroke="#FF2A2A" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div><span class="text-xs transition-colors text-muted group-hover:text-primary">Dark Side</span></button><button class="flex flex-col items-center gap-1 group" aria-label="Terminal"><div class="relative w-10 h-10 rounded-full transition-transform group-hover:scale-110 " style="background-color:#020806;border-width:2px;border-style:solid;border-color:#00FF9C"><svg class="w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" fill="none" stroke="#00FF9C" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div><span class="text-xs transition-colors text-muted group-hover:text-primary">Terminal</span></button><button class="flex flex-col items-center gap-1 group" aria-label="Vibe Code"><div class="relative w-10 h-10 rounded-full transition-transform group-hover:scale-110 " style="background-color:#0C0616;border-width:2px;border-style:solid;border-color:#6E1AE9"><svg class="w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" fill="none" stroke="#6E1AE9" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div><span class="text-xs transition-colors text-muted group-hover:text-primary">Vibe Code</span></button></div></div></div><header class="w-full border-b border-theme"><div class="max-w-3xl mx-auto px-6 py-4 flex items-center justify-between"><a href="/" class="text-lg font-semibold text-primary hover:text-accent transition-colors">~/infoxicator</a><nav class="flex items-center gap-6"><a href="/" class="text-sm text-muted hover:text-primary transition-colors">home</a><a href="/blog" class="text-sm text-muted hover:text-primary transition-colors">blog</a><button class="flex items-center justify-center w-9 h-9 bg-secondary rounded hover:bg-tertiary transition-colors" aria-label="Select theme"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"></path></svg></button></nav></div></header><main class="flex-1 w-full max-w-3xl mx-auto px-6 py-8"><!--$--><div class="fixed top-0 left-0 right-0 z-50 h-1" style="background-color:var(--border)"><div class="h-full transition-[width] duration-75 ease-out" style="width:0%;background-color:var(--accent)"></div></div><article class="space-y-8"><a href="/" class="inline-flex items-center gap-2 text-sm text-muted hover:text-accent transition-colors"><span aria-hidden="true">←</span>Back to home</a><header class="space-y-4"><div class="flex items-center gap-3 text-sm text-muted"><time dateTime="2022-10-06">October 6, 2022</time><span>·</span><span>7 min read</span></div><h1 class="text-3xl font-bold text-primary">React Router 6.4 Code-Splitting</h1><div class="flex flex-wrap gap-2"><span class="text-xs px-2 py-1 bg-tertiary rounded text-muted">React</span><span class="text-xs px-2 py-1 bg-tertiary rounded text-muted">React Router</span><span class="text-xs px-2 py-1 bg-tertiary rounded text-muted">Performance</span><span class="text-xs px-2 py-1 bg-tertiary rounded text-muted">Code Splitting</span></div></header><div class="prose"><div><div><figure></div><div><img src="/images/posts/react-router-6-4-code-splitting/xy2km3wsql2sq9jzdkgm.jpeg" alt="React Router 6.4 Code-Splitting cover" /></div><div></figure></div><div><p>The Remix team have released the new &#8220;Data Routers&#8221; in their <code>6.4</code> update that brings all of the great features of Remix over to React Router. With this update, Single Page Applications that are unable to migrate can benefit from all of the goodies &#x1f381; that Remix provides.</p></div><div><p>The best feature by far is parallel data fetching, removing the &#8220;Spinnageddon&#8221; network waterfall and improving page loads.</p></div><div><figure class="wp-block-image"><img src="/images/posts/react-router-6-4-code-splitting/xy2km3wsql2sq9jzdkgm.jpeg" alt="Parallel bars in network waterfall"/></figure></div><div><p>These parallel green bars look awesome! and your users will be delighted too:</p></div><div><ul><li>No Content Layout Shift</li><li>Faster data loading.</li><li>A single loading spinner (unavoidable without Remix because of Client Side Rendering, but that&#8217;s better than multiple ones).</li></ul></div><div><p>It all sounds great, so what&#8217;s missing?</p></div><div><p>The new Data Router and routes that need data upfront have to define their loaders and components at the top level of the application and that puts the entire app into a single massive bundle &#x1f914;</p></div><div><p>Hundreds of MBs of JavaScript when you land on the page is a no-no for performance so… how do we codesplit a Data Router application while keeping the benefits of parallel data fetching and no Content Layout Shift?</p></div><div><h2>Option 1</h2></div><div><h3>Route Modules with Loaders and Components in the same file:</h3></div><div><p>This option follows the Remix file conventions where every route exports both the <code>Component</code> and the <code>Loader</code> from the same file, then it uses a <code>Route Module</code> file to lazy load and dynamic import these files to enable code-splitting.</p></div><p class="text-secondary my-4 leading-relaxed">&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code lang=&quot;javascript&quot; class=&quot;language-javascript&quot;&gt;export async function loader(args) {</p><p class="text-secondary my-4 leading-relaxed">  let actualLoader = await import(&quot;./actualModule&quot;).loader;</p><p class="text-secondary my-4 leading-relaxed">  return actualLoader(args);</p><p class="text-secondary my-4 leading-relaxed">}</p><p class="text-secondary my-4 leading-relaxed">export const Component = React.lazy(() =&amp;gt; import(&quot;./actualModule&quot;).default);&lt;/code&gt;&lt;/pre&gt;</p><p class="text-secondary my-4 leading-relaxed">&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code lang=&quot;javascript&quot; class=&quot;language-javascript&quot;&gt;import * as Tasks from &quot;./tasks.route&quot;;</p><p class="text-secondary my-4 leading-relaxed">// ...</p><p class="text-secondary my-4 leading-relaxed">&amp;lt;Route</p><p class="text-secondary my-4 leading-relaxed">  path=&quot;/tasks&quot;</p><p class="text-secondary my-4 leading-relaxed">  element={</p><p class="text-secondary my-4 leading-relaxed">     &amp;lt;React.Suspense fallback=&quot;loading...&quot;&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">       &amp;lt;Tasks.Component /&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">     &amp;lt;/React.Suspense&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">  }</p><p class="text-secondary my-4 leading-relaxed">  loader={Tasks.loader}</p><p class="text-secondary my-4 leading-relaxed">/&amp;gt;;&lt;/code&gt;&lt;/pre&gt;</p><div><p>This resulting network waterfall:</p></div><div><p><br><img src="/images/posts/react-router-6-4-code-splitting/yoro7oq746jygrf775dn.png" alt="Network waterfall with two bars"></p></div><div><p><strong>Pros:</strong></p></div><div><ul><li>This is a really clean pattern and can be encapsulated to build your own route configuration.</li><li>Closer to Remix file conventions so it would be easier to migrate in the future.</li></ul></div><div><p><strong>Cons:</strong></p></div><div><ul><li>The data loading and <code>fetch</code> are delayed until the Component bundle is loaded.</li><li>Content Layout Shift occurs because of the suspense boundary.</li></ul></div><div><h2>Option 2</h2></div><div><h3>&nbsp;Moving loaders into their own separate file</h3></div><div><p>Separating the loader out of the Component file allows you to code split the Component and fetch it from the loader while the data is loading, eliminating the sequential download and making the most of parallelisation.</p></div><div><figure class="wp-block-image"><img src="/images/posts/react-router-6-4-code-splitting/f8qdoz0jqn9zbj81nohp.png" alt="Network waterfall with two bars"/></figure></div><div><p>Move <code>actual-loader</code> to a separate file.</p></div><p class="text-secondary my-4 leading-relaxed">&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code class=&quot;&quot;&gt;export async function loader() {</p><p class="text-secondary my-4 leading-relaxed">  // import the Component here but don&#x27;t await it</p><p class="text-secondary my-4 leading-relaxed">  import(&quot;./actualModule&quot;);</p><p class="text-secondary my-4 leading-relaxed">  return await fetch(&#x27;/api&#x27;);</p><p class="text-secondary my-4 leading-relaxed">}&lt;/code&gt;&lt;/pre&gt;</p><div><p>When React.lazy actually mounts and calls its own<br><code>import('./actualModule')</code>, it should latch onto the existing download.</p></div><div><blockquote class="wp-block-quote"><p></p><p>Disclaimer: Most modern bundlers should support the theory above, but it is not guaranteed.</p></blockquote></div><div><p><strong>Pros:</strong></p></div><div><ul><li>The Component and Loader can be code-split into separate files.</li><li>The Component&#8217;s javascript bundle and the data fetching start at the same time, this is particularly useful for heavy components that might take a while to load from the network.</li></ul></div><div><p><strong>Cons:</strong></p></div><div><ul><li>This approach moves away from Remix file conventions so a small refactoring to move the loaders could be needed if migrating to Remix</li><li>Content Layout Shift still occurs even though the component lazy import promise could have potentially resolved when the loader is finished, the suspense boundary still needs to unwrap the resolved value.</li></ul></div><div><h2>Removing Content Layout Shift</h2></div><div><p>Both options have their benefits, however, both suffer from Content Layout Shift. Removing CLS is one of the main performance benefits of React Router and Remix but now that we have introduced code-splitting it makes CLS unavoidable… or does it?</p></div><div><p><a href="https://twitter.com/brophdawg11">Matt</a> from the Remix team put together a really cool trick on how to remove CLS when code-splitting and the best part is that it works for both of the solutions mentioned above.</p></div><p class="text-secondary my-4 leading-relaxed">&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code lang=&quot;javascript&quot; class=&quot;language-javascript&quot;&gt;// Assume you want to do this in your routes, which are in the critical path JS bundle</p><p class="text-secondary my-4 leading-relaxed">&amp;lt;Route path=&quot;lazy&quot; loader={lazyLoader} element={&amp;lt;Lazy /&amp;gt;} /&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">// And assume you have two files containing your actual load and component:</p><p class="text-secondary my-4 leading-relaxed">// lazy-loader.ts -&amp;gt; exports the loader</p><p class="text-secondary my-4 leading-relaxed">// lazy-component.ts -&amp;gt; exports the component</p><p class="text-secondary my-4 leading-relaxed">// We&#x27;ll render the component via React.lazy()</p><p class="text-secondary my-4 leading-relaxed">let LazyActual = React.lazy(() =&amp;gt; import(&quot;./lazy-component&quot;));</p><p class="text-secondary my-4 leading-relaxed">function Lazy() {</p><p class="text-secondary my-4 leading-relaxed">  return (</p><p class="text-secondary my-4 leading-relaxed">    &amp;lt;React.Suspense fallback={&amp;lt;p&amp;gt;Loading component...&amp;lt;/p&amp;gt;}&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">      &amp;lt;LazyActual /&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">    &amp;lt;/React.Suspense&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">  );</p><p class="text-secondary my-4 leading-relaxed">}</p><p class="text-secondary my-4 leading-relaxed">// The loader is where things get interesting, we need to load the JS chunk </p><p class="text-secondary my-4 leading-relaxed">// containing our actual loader code - BUT we also want to get a head start </p><p class="text-secondary my-4 leading-relaxed">// on downloading the component chunk instead of waiting for React.lazy() to </p><p class="text-secondary my-4 leading-relaxed">// kick it off.  Waterfalls are bad!  This opens up the possibility of the </p><p class="text-secondary my-4 leading-relaxed">// component chunk finishing _before_ the loader chunk + execution.  If that </p><p class="text-secondary my-4 leading-relaxed">// happens we don&#x27;t want to see a small CLS flicker from Suspense since the </p><p class="text-secondary my-4 leading-relaxed">// component _is already downloaded_!</p><p class="text-secondary my-4 leading-relaxed">export async function lazyLoader(...args) {</p><p class="text-secondary my-4 leading-relaxed">  let controller = new AbortController();</p><p class="text-secondary my-4 leading-relaxed">  /*</p><p class="text-secondary my-4 leading-relaxed">   * Kick off our component chunk load but don&#x27;t await it</p><p class="text-secondary my-4 leading-relaxed">   * This allows us to parallelise the component download with loader </p><p class="text-secondary my-4 leading-relaxed">   * download and execution.</p><p class="text-secondary my-4 leading-relaxed">   *</p><p class="text-secondary my-4 leading-relaxed">   * Normal React.lazy()</p><p class="text-secondary my-4 leading-relaxed">   * </p><p class="text-secondary my-4 leading-relaxed">   *   load loader.ts     execute loader()   load component.ts</p><p class="text-secondary my-4 leading-relaxed">   *   -----------------&amp;gt; -----------------&amp;gt; -----------------&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">   *</p><p class="text-secondary my-4 leading-relaxed">   * Kicking off the component load _in_ your loader()</p><p class="text-secondary my-4 leading-relaxed">   * </p><p class="text-secondary my-4 leading-relaxed">   *   load loader.ts     execute loader()   </p><p class="text-secondary my-4 leading-relaxed">   *   -----------------&amp;gt; -----------------&amp;gt; </p><p class="text-secondary my-4 leading-relaxed">   *                      load component.ts</p><p class="text-secondary my-4 leading-relaxed">   *                      -----------------&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">   *</p><p class="text-secondary my-4 leading-relaxed">   * Kicking off the component load _alongside_ your loader.ts chunk load</p><p class="text-secondary my-4 leading-relaxed">   * </p><p class="text-secondary my-4 leading-relaxed">   *   load loader.ts     execute loader()   </p><p class="text-secondary my-4 leading-relaxed">   *   -----------------&amp;gt; -----------------&amp;gt; </p><p class="text-secondary my-4 leading-relaxed">   *   load component.ts</p><p class="text-secondary my-4 leading-relaxed">   *   -----------------&amp;gt;</p><p class="text-secondary my-4 leading-relaxed">   */</p><p class="text-secondary my-4 leading-relaxed">  import(&quot;./lazy-component&quot;).then(</p><p class="text-secondary my-4 leading-relaxed">    (componentModule) =&amp;gt; {</p><p class="text-secondary my-4 leading-relaxed">      if (!controller.signal.aborted) {</p><p class="text-secondary my-4 leading-relaxed">        // We loaded the component _before_ our loader finished, so we can</p><p class="text-secondary my-4 leading-relaxed">        // blow away React.lazy and just use the component directly.  This </p><p class="text-secondary my-4 leading-relaxed">        // avoids the flicker we&#x27;d otherwise get since React.lazy would need </p><p class="text-secondary my-4 leading-relaxed">        // to throw the already-resolved promise up to the Suspense boundary </p><p class="text-secondary my-4 leading-relaxed">        // one time to get the resolved value</p><p class="text-secondary my-4 leading-relaxed">        LazyActual = componentModule.default;</p><p class="text-secondary my-4 leading-relaxed">      }</p><p class="text-secondary my-4 leading-relaxed">    },</p><p class="text-secondary my-4 leading-relaxed">    () =&amp;gt; {}</p><p class="text-secondary my-4 leading-relaxed">  );</p><p class="text-secondary my-4 leading-relaxed">  try {</p><p class="text-secondary my-4 leading-relaxed">    // Load our loader chunk</p><p class="text-secondary my-4 leading-relaxed">    let { default: loader } = await import(&quot;./lazy-loader&quot;);</p><p class="text-secondary my-4 leading-relaxed">    // Call the loader</p><p class="text-secondary my-4 leading-relaxed">    return await loader(...args);</p><p class="text-secondary my-4 leading-relaxed">  } finally {</p><p class="text-secondary my-4 leading-relaxed">    // Abort the controller when our loader finishes.  If we finish before the </p><p class="text-secondary my-4 leading-relaxed">    // component chunk loads, this will ensure we still use React.lazy to </p><p class="text-secondary my-4 leading-relaxed">    // render the component since it&#x27;s not yet available.  If the component </p><p class="text-secondary my-4 leading-relaxed">    // chunk finishes first, it will have overwritten Lazy with the legit </p><p class="text-secondary my-4 leading-relaxed">    // component so we&#x27;ll never see the suspense fallback</p><p class="text-secondary my-4 leading-relaxed">    controller.abort();</p><p class="text-secondary my-4 leading-relaxed">  }</p><p class="text-secondary my-4 leading-relaxed">}&lt;/code&gt;&lt;/pre&gt;</p><div><p><a href="https://gist.github.com/brophdawg11/03a475e26922e09aa35ca8b5900a4fb4">Source Code</a></p></div><div><p>Thanks again to <a href="https://twitter.com/brophdawg11">Matt</a> from Remix for helping me to figure this one out! all the credit goes to him.</p></div></div></div><footer class="pt-8 border-t border-theme"><a href="/" class="inline-flex items-center gap-2 text-sm text-muted hover:text-accent transition-colors"><span aria-hidden="true">←</span>Back to all posts</a></footer></article><script></script><script>(function restoreScroll({
  storageKey: storageKey2,
  key,
  behavior,
  shouldScrollRestoration,
  scrollToTopSelectors,
  location
}) {
  let byKey;
  try {
    byKey = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
  } catch (error) {
    console.error(error);
    return;
  }
  const resolvedKey = key || window.history.state?.__TSR_key;
  const elementEntries = byKey[resolvedKey];
  ignoreScroll = true;
  scroll: {
    if (shouldScrollRestoration && elementEntries && Object.keys(elementEntries).length > 0) {
      for (const elementSelector in elementEntries) {
        const entry = elementEntries[elementSelector];
        if (elementSelector === "window") {
          window.scrollTo({
            top: entry.scrollY,
            left: entry.scrollX,
            behavior
          });
        } else if (elementSelector) {
          const element = document.querySelector(elementSelector);
          if (element) {
            element.scrollLeft = entry.scrollX;
            element.scrollTop = entry.scrollY;
          }
        }
      }
      break scroll;
    }
    const hash = (location ?? window.location).hash.split("#", 2)[1];
    if (hash) {
      const hashScrollIntoViewOptions = window.history.state?.__hashScrollIntoViewOptions ?? true;
      if (hashScrollIntoViewOptions) {
        const el = document.getElementById(hash);
        if (el) {
          el.scrollIntoView(hashScrollIntoViewOptions);
        }
      }
      break scroll;
    }
    const scrollOptions = { top: 0, left: 0, behavior };
    window.scrollTo(scrollOptions);
    if (scrollToTopSelectors) {
      for (const selector of scrollToTopSelectors) {
        if (selector === "window") continue;
        const element = typeof selector === "function" ? selector() : document.querySelector(selector);
        if (element) element.scrollTo(scrollOptions);
      }
    }
  }
  ignoreScroll = false;
})({"storageKey":"tsr-scroll-restoration-v1_3","shouldScrollRestoration":true});document.currentScript.remove()</script><!--/$--></main><footer class="w-full border-t border-theme"><div class="max-w-3xl mx-auto px-6 py-6 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-muted"><span>© <!-- -->2025<!-- --> Ruben Casas</span><div class="flex items-center gap-4"><a href="https://x.com/Infoxicador" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors flex items-center gap-1.5" aria-label="Twitter"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>twitter</a><a href="https://github.com/infoxicator" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors flex items-center gap-1.5" aria-label="GitHub"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg>github</a><a href="https://www.linkedin.com/in/ruben-casas-17100383/" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors flex items-center gap-1.5" aria-label="LinkedIn"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg>linkedin</a><a href="https://www.youtube.com/rubencasas" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors flex items-center gap-1.5" aria-label="YouTube"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg>youtube</a></div></div></footer><script class="$tsr" id="$tsr-stream-barrier">(self.$R=self.$R||{})["tsr"]=[];self.$_TSR={h(){this.hydrated=!0,this.c()},e(){this.streamEnded=!0,this.c()},c(){this.hydrated&&this.streamEnded&&(delete self.$_TSR,delete self.$R.tsr)},p(e){this.initialized?e():this.buffer.push(e)},buffer:[]};
;$_TSR.router=($R=>$R[0]={manifest:$R[1]={routes:$R[2]={__root__:$R[3]={preloads:$R[4]=["/assets/main-BuLNq98C.js"],assets:$R[5]=[$R[6]={tag:"script",attrs:$R[7]={type:"module",async:!0},children:"import('/assets/main-BuLNq98C.js')"}]},"/$postId":$R[8]={preloads:$R[9]=["/assets/_postId-CltVtPm6.js"]}}},matches:$R[10]=[$R[11]={i:"__root__/",u:1767095767134,s:"success",ssr:!0},$R[12]={i:"/$postId/react-router-6-4-code-splitting",u:1767095767236,s:"success",ssr:!0}],lastMatchId:"/$postId/react-router-6-4-code-splitting"})($R["tsr"]);$_TSR.e();document.currentScript.remove()</script><script type="module" async="">import('/assets/main-BuLNq98C.js')</script></body></html>